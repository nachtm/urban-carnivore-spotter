(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){},343:function(e,t,a){e.exports=a.p+"static/media/blackbear.0eab25ff.png"},344:function(e,t,a){e.exports=a.p+"static/media/coyote.486548db.png"},345:function(e,t,a){e.exports=a.p+"static/media/bobcat.0dfbc021.png"},346:function(e,t,a){e.exports=a.p+"static/media/cougar.52b668e9.png"},347:function(e,t,a){e.exports=a.p+"static/media/opossum.2a924a5e.png"},348:function(e,t,a){e.exports=a.p+"static/media/riverotter.46d6a967.png"},349:function(e,t,a){e.exports=a.p+"static/media/raccoon.08e317c8.png"},350:function(e,t,a){var n={"./blackbear.png":343,"./bobcat.png":345,"./cougar.png":346,"./coyote.png":344,"./opossum.png":347,"./raccoon.png":349,"./riverotter.png":348};function r(e){var t=o(e);return a(t)}function o(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=350},370:function(e,t,a){e.exports=a.p+"static/media/Raccoon.6dd94356.svg"},5634:function(e,t,a){e.exports=a(5982)},5689:function(e,t,a){},5982:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),i=a(5993),c=r.a.createContext(null),s=c,u=a(12),m=a(354),d=a.n(m),h=a(355);a.n(h).a.config();var p={apiKey:"AIzaSyD3LGNXRcSB6toKgNRfTe-gAkNF7LYMgTM",authDomain:"seattlecarnivores-edca2.firebaseapp.com",databaseURL:"https://seattlecarnivores-edca2.firebaseio.com",projectId:"seattlecarnivores-edca2",storageBucket:"seattlecarnivores-edca2.appspot.com",messagingSenderId:"787539136158"},g=function e(){Object(u.a)(this,e),d.a.initializeApp(p)},f=a(33),b=a(156),E=a(39),v=a(27),C=a(14),y=["Black Bear","Bobcat","Coyote","Cougar/Mountain Lion","Raccoon","Opossum","River Otter","Other"],O=["Early Morning (12:00am-4:59am)","Morning (5:00am-11:59am)","Afternoon (12:00pm-5:59pm)","Evening (6:00pm-11:59pm)"],w=[{name:"all",early:0,late:25},{name:"Early Morning (12:00am-4:59am)",early:0,late:5},{name:"Morning (5:00am-11:59am)",early:5,late:12},{name:"Afternoon (12:00pm-5:59pm)",early:12,late:18},{name:"Evening (6:00pm-11:59pm)",early:18,late:24}],k=function(e,t){var a=e.getHours();return a<t.late&&a>=t.early},j=function(e){var t={all:!0};y.forEach(function(e){return t[e]=!1});var a=e.filter(function(e){return"all"!==e}).reduce(function(e,t){return e[t]=!1,e},{all:!0}),n={all:!0};return O.forEach(function(e){return n[e]=!1}),{carnivoreFilter:Object(v.a)({},t),neighborhoodFilter:Object(v.a)({},a),startDate:null,endDate:null,timeFilter:Object(v.a)({},n),confidenceFilterActive:!1}},S=function(e,t){var a,n,r,o=e.data,l=new Date(o.timestamp);return(t.carnivoreFilter.all||t.carnivoreFilter[o.species]||function(e,t){var a=e.carnivoreFilter;return"Other"===t||a.Other&&void 0===a[t]}(t,o.species))&&(!0===t.neighborhoodFilter.all||o.hasOwnProperty("neighborhood")&&!0===t.neighborhoodFilter[o.neighborhood])&&(a=C(l),n=t.startDate,r=t.endDate,(null===n||a.isSameOrAfter(n,"day"))&&(null===r||a.isSameOrBefore(r,"day")))&&(t.timeFilter.all||function(e,t){var a=t.timeFilter;return w.filter(function(e){return a[e.name]}).some(function(t){return k(e,t)})}(l,t))&&(!t.confidenceFilterActive||"100% confident"===o.confidence||"More than 75% confident"===o.confidence)},x={filter:j([]),isMobile:!1},N=Object(b.b)(function(e,t){switch(t.type){case"SET_MOBILE":return Object(v.a)({},e,{isMobile:t.value});case"UPDATE_FILTER":return Object(v.a)({},e,{filter:Object(v.a)({},e.filter,Object(E.a)({},t.filterName,Object(v.a)({},e.filter[t.filterName],Object(E.a)({},t.key,t.newValue))))});case"RESET_FILTER":var a=Object.keys(e.filter.neighborhoodFilter);return Object(v.a)({},e,{filter:j(a)});case"UPDATE_FILTER_DATE":return Object(v.a)({},e,{filter:Object(v.a)({},e.filter,{startDate:t.startDate,endDate:t.endDate})});case"TOGGLE_FILTER_CONFIDENCE":return Object(v.a)({},e,{filter:Object(v.a)({},e.filter,{confidenceFilterActive:!e.filter.confidenceFilterActive})});case"UPDATE_ALL_NEIGHBORHOODS":var n=t.value.reduce(function(e,t){return e[t]=!1,e},{all:!0});return Object(v.a)({},e,{filter:Object(v.a)({},e.filter,{neighborhoodFilter:n})})}return e},x,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),D=(a(5689),a(22)),I=a(16),M=a(15),L=a(17),R=a(5990),T=a(92),A=a.n(T),P=(a(175),function(e){function t(){return Object(u.a)(this,t),Object(I.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props.history;return r.a.createElement("div",{style:{position:"sticky",top:0,width:"100%",zIndex:100}},r.a.createElement(A.a,{position:"static",className:"appBar"},r.a.createElement("div",{className:"logo"}),r.a.createElement("h1",{className:"headerTitle",onClick:function(){return e.push("/")},style:{cursor:"pointer"}},"Urban Carnivore Sightings"),r.a.createElement("div",{className:"nav"},r.a.createElement("div",{id:"explore",className:"categories",onClick:function(){return e.push("/")}},r.a.createElement("h4",null,"Explore")),r.a.createElement("div",{id:"resources",className:"categories",onClick:function(){return e.push("/resources")}},r.a.createElement("h4",null,"Resources")),r.a.createElement("div",{id:"report",className:"categories",onClick:function(){return e.push("/reports/create")}},r.a.createElement("h4",null,"Report Sightings")))))}}]),t}(n.Component)),F=Object(R.a)(P),B=a(26),z=a(36),U=a.n(z),_=a(360),V=a.n(_),W=a(13),H=a(46),G=a.n(H),X=a(94),Y=a.n(X),q=a(74),J=a(117),Z=a.n(J),K=a(139),Q=a.n(K),$=a(140),ee=a.n($),te=a(138),ae=a.n(te),ne=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(I.a)(this,Object(M.a)(t).call(this,e))).getButton=function(e,t,a,n,o,l){var i=l?r.a.createElement("span",null,r.a.createElement(ae.a,{style:{color:l(e)}}),e):r.a.createElement("span",null,e);return r.a.createElement(W.g,{key:e,control:r.a.createElement(W.b,{checkedIcon:r.a.createElement(Z.a,{className:o.checkedCheckbox}),checked:t,onChange:n,disabled:a,className:o.checkbox}),label:i})},a.state={viewAll:!1},a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.allLabel,n=t.briefNumber,o=t.filter,l=t.updateValues,i=t.classes,c=t.keyColorFunction,s=this.state.viewAll;return r.a.createElement(W.f,{component:"fieldset",className:i.allContent},r.a.createElement(W.h,null,r.a.createElement(W.g,{control:r.a.createElement(W.b,{checked:o.all,onChange:function(){return l("all",!o.all)},checkedIcon:r.a.createElement(Z.a,{className:i.checkedCheckbox}),className:i.checkbox}),label:a}),Object.entries(o).filter(function(e){var t=Object(q.a)(e,2),a=t[0];t[1];return"all"!==a}).slice(0,n).map(function(t){var a=Object(q.a)(t,2),n=a[0],r=a[1];return e.getButton(n,r,o.all,function(){return l(n,!r)},i,c)})),n!==Object.keys(o).length-1?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.d,{in:s},r.a.createElement(W.h,null,Object.entries(o).filter(function(e){var t=Object(q.a)(e,2),a=t[0];t[1];return"all"!==a}).slice(n).map(function(t){var a=Object(q.a)(t,2),n=a[0],r=a[1];return e.getButton(n,r,o.all,function(){return l(n,!r)},i)}))),r.a.createElement(W.a,{onClick:function(){return e.setState(function(e){return Object(v.a)({},e,{viewAll:!e.viewAll})})},className:i.showAllButton},s?r.a.createElement(r.a.Fragment,null,"Hide Some ",r.a.createElement(Q.a,null)):r.a.createElement(r.a.Fragment,null,"Show All ",r.a.createElement(ee.a,null)))):null)}}]),t}(n.Component),re=Object(B.withStyles)({checkbox:{margin:"0px 0px 0px 8px"},checkedCheckbox:{color:"#93C838"},showAllButton:{margin:"auto"},allContent:{width:"100%"}})(ne),oe=function(e){N.dispatch({type:"SET_MOBILE",value:e})},le=function(e,t,a){N.dispatch({type:"UPDATE_FILTER",filterName:e,key:t,newValue:a})},ie=function(){N.dispatch({type:"RESET_FILTER"})},ce=function(e,t){N.dispatch({type:"UPDATE_FILTER_DATE",startDate:e,endDate:t})},se=function(){N.dispatch({type:"TOGGLE_FILTER_CONFIDENCE"})},ue=a(225),me=Object(ue.a)({"black bear":"#801e78",bobcat:"#498029",coyote:"#561480","cougar/mountain lion":"#802a00",raccoon:"#093c80",opossum:"#FFDC26","river otter":"#7083ff"}),de=function(e){var t=me.get(e.toLowerCase());return t||"#805b14"},he=Object(ue.a)({blackbear:"Black Bear",bobcat:"Bobcat",coyote:"Coyote",cougar:"Cougar/Mountain Lion",raccoon:"Raccoon",opossum:"Opossum",riverotter:"River Otter"}),pe=function(e){return he.get(e)},ge=(a(5778),a(359)),fe=a(226),be=(a(5848),5),Ee=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(I.a)(this,Object(M.a)(t).call(this,e))).updateFilterSubsection=function(e){return function(t,a){le(e,t,a)}},a.toggleShow=function(e){return function(){a.setState(function(t){return Object(v.a)({},t,Object(E.a)({},e,!t[e]))})}},a.toggleConfidence=function(){se()},a.getCollapse=function(e,t,a,n,o){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.expandHeader},r.a.createElement("span",{className:e.headerTitle},t),r.a.createElement(W.e,{className:e.expandButton,onClick:a,size:"small",disableRipple:!0},n?r.a.createElement(Y.a,null):r.a.createElement(G.a,null))),r.a.createElement(W.d,{in:n,className:e.collapsible},o))},a.isOutsideRange=function(e){var t=a.props.filter,n=t.startDate,r=t.endDate,o=a.state.dateRangeFocused;return o===fe.b&&!(null===r||e.isSameOrBefore(r,"day"))||o===fe.a&&!(null===n||e.isSameOrAfter(n,"day"))},a.render=function(){var e=a.props,t=e.classes,n=e.cancel,o=e.children,l=e.filter,i=l.startDate,c=l.endDate,s=l.confidenceFilterActive,u=l.carnivoreFilter,m=l.neighborhoodFilter,d=l.timeFilter,h=a.state,p=h.showCarnivores,g=h.showNeighborhoods,f=h.showTime,b=h.showConfidence,E=h.dateRangeFocused;return r.a.createElement("div",{className:t.allContent},o,r.a.createElement("div",{className:t.header},n&&r.a.createElement(W.a,{onClick:n},"Cancel"),r.a.createElement("h3",{style:{margin:4}},"Filter"),r.a.createElement(W.a,{onClick:ie},"Reset")),r.a.createElement("div",{className:t.mainContent},a.getCollapse(t,"Type of Carnivore",a.toggleShow("showCarnivores"),p,r.a.createElement(re,{filter:u,allLabel:"All Carnivores",updateValues:a.updateFilterSubsection("carnivoreFilter"),briefNumber:Object.keys(u).length-1,keyColorFunction:de})),r.a.createElement("hr",null),a.getCollapse(t,"Neighborhood",a.toggleShow("showNeighborhoods"),g,r.a.createElement(re,{filter:m,allLabel:"All Neighborhoods",updateValues:a.updateFilterSubsection("neighborhoodFilter"),briefNumber:be})),r.a.createElement("hr",null),a.getCollapse(t,"Time of Sighting",a.toggleShow("showTime"),f,r.a.createElement(r.a.Fragment,null,"Date:",r.a.createElement(ge.DateRangePicker,{startDate:i,startDateId:"some_id",endDate:c,endDateId:"some_other_id",onDatesChange:function(e){var t=e.startDate,a=e.endDate;return ce(t,a)},focusedInput:E,onFocusChange:function(e){return a.setState({dateRangeFocused:e})},showClearDates:!0,numberOfMonths:1,isOutsideRange:a.isOutsideRange,small:!0,daySize:30}),r.a.createElement(re,{filter:d,allLabel:"Any time of day",updateValues:a.updateFilterSubsection("timeFilter"),briefNumber:Object.keys(d).length-1}))),r.a.createElement("hr",null),a.getCollapse(t,"Confidence of Sighting",a.toggleShow("showConfidence"),b,r.a.createElement(W.f,{component:"fieldset"},r.a.createElement(W.h,null,r.a.createElement(W.g,{control:r.a.createElement(W.b,{checked:s,onChange:a.toggleConfidence,checkedIcon:r.a.createElement(Z.a,{style:{color:"#93C838"}}),style:{margin:"0px 0px 0px 8px"}}),label:"Only show high-confidence sightings"}))))))},a.state={showCarnivores:!1,showNeighborhoods:!1,showTime:!1,showConfidence:!1,dateRangeFocused:null},a}return Object(L.a)(t,e),t}(r.a.Component),ve=Object(f.b)(function(e){return{filter:{carnivoreFilter:e.filter.carnivoreFilter,neighborhoodFilter:e.filter.neighborhoodFilter,timeFilter:e.filter.timeFilter,startDate:e.filter.startDate,endDate:e.filter.endDate,confidenceFilterActive:e.filter.confidenceFilterActive}}})(Object(B.withStyles)({allContent:{height:"100%",overflow:"scroll",position:"static",display:"flex",flexDirection:"column"},header:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,backgroundColor:"white",zIndex:1},filterBox:{},mainContent:{flex:1},resultsButton:{position:"sticky",bottom:4,left:"5%",width:"90%",justifyContent:"center",color:"white",backgroundColor:"#93C838"},expandButton:{boxShadow:"none",float:"right",position:"relative",top:-8,backgroundColor:"#93C838",color:"white"},expandHeader:{margin:16,display:"flex",justifyContent:"space-between"},headerTitle:{alignText:"left"},collapsible:{textAlign:"left"}})(Ee)),Ce=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={left:!1,right:!1},a.toggleDrawer=function(e,t){return function(){a.setState(Object(E.a)({},e,t))}},a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.location,n=e.classes;return r.a.createElement("div",{style:{position:"sticky",top:0,width:"100%",zIndex:100}},r.a.createElement(A.a,{position:"static",color:"default"},r.a.createElement("div",{className:"headerDiv"},r.a.createElement("h1",{style:{display:"table-cell",cursor:"pointer",marginLeft:20},onClick:function(){return t.push("/")},className:"header"},"Urban Carnivore Spotter"),"/"===a.pathname||"/list"===a.pathname?r.a.createElement(U.a,{className:"filterButton",onClick:this.toggleDrawer("right",!0)},"Filter"):null,r.a.createElement(V.a,{anchor:"right",open:this.state.right,onClose:this.toggleDrawer("right",!1),onOpen:this.toggleDrawer("right",!0)},r.a.createElement("div",{tabIndex:0,role:"button",style:{width:"250px"}},r.a.createElement("div",{className:n.filterContainer},r.a.createElement(ve,{cancel:this.toggleDrawer("right",!1)})))))))}}]),t}(n.Component),ye=Object(B.withStyles)({filterContainer:{height:"100vh"}})(Object(R.a)(Ce)),Oe=a(148),we=a.n(Oe),ke=a(95),je=a.n(ke),Se=a(149),xe=a.n(Se),Ne=a(52),De=a.n(Ne),Ie=a(147),Me=a.n(Ie),Le=a(372),Re=a(48),Te=a.n(Re),Ae=a(37),Pe=a.n(Ae),Fe=a(60),Be=a.n(Fe),ze=a(59),Ue=a.n(ze),_e=a(371),Ve=a(28),We=(a(5910),a(363)),He=a.n(We),Ge=a(141),Xe=a.n(Ge),Ye=a(53),qe=a.n(Ye),Je=a(47),Ze=a.n(Je),Ke=a(142),Qe=a.n(Ke),$e=a(143),et=a.n($e),tt=a(228),at=a.n(tt),nt=a(364),rt=a(229),ot=a.n(rt),lt=a(365),it=a.n(lt),ct=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={mediaPaths:[]},a.handleChangeImage=function(e){var t=e.target.files,n=a.props.getMedia,r=[];for(var o in t){var l=t[o];r.push(l)}n(r,a.fileUploader)},a.handleUploadError=function(e){console.error(e)},a.handleUploadSuccess=function(){var e=Object(nt.a)(at.a.mark(function e(t){var n,r;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.passPaths,r=a.state.mediaPaths,e.next=4,ot.a.storage().ref("images").child(t).getDownloadURL().then(function(e){return r.push(e)});case 4:n(r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.acceptType,n=t.reference;return r.a.createElement("div",null,r.a.createElement(it.a,{style:{display:"none"},accept:a,multiple:!0,randomizeFilename:!0,storageRef:ot.a.storage().ref(n),onChange:this.handleChangeImage,onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,ref:function(t){return e.fileUploader=t}}))}}]),t}(n.Component),st=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).getMedia=function(e,t){(0,a.props.uploadMedia)(e,t)},a.getUploaderPaths=function(e){(0,a.props.getMediaPaths)(e)},a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(qe.a,{container:!0,className:e.root,spacing:16},r.a.createElement(qe.a,{item:!0,xs:12},r.a.createElement(qe.a,{container:!0,justify:"center",spacing:16},r.a.createElement(qe.a,{key:0,item:!0},r.a.createElement(Ze.a,{className:"paper"},r.a.createElement("label",{style:{cursor:"pointer"}},r.a.createElement(Xe.a,null),r.a.createElement(G.a,null),r.a.createElement("p",null,"Photos"),r.a.createElement(ct,{acceptType:"images/*",reference:"images",getMedia:this.getMedia,passPaths:this.getUploaderPaths})))),r.a.createElement(qe.a,{key:1,item:!0},r.a.createElement(Ze.a,{className:"paper"},r.a.createElement("label",{style:{cursor:"pointer"}},r.a.createElement(Qe.a,null),r.a.createElement(G.a,null),r.a.createElement("p",null,"Videos"),r.a.createElement(ct,{acceptType:"video/*",reference:"videos",getMedia:this.getMedia,passPaths:this.getUploaderPaths})))),r.a.createElement(qe.a,{key:2,item:!0},r.a.createElement(Ze.a,{className:"paper"},r.a.createElement("label",{style:{cursor:"pointer"}},r.a.createElement(et.a,null),r.a.createElement(G.a,null),r.a.createElement("p",null,"Sound files"),r.a.createElement(ct,{acceptType:"audio/*",reference:"audio",getMedia:this.getMedia,passPaths:this.getUploaderPaths})))))))}}]),t}(n.Component),ut=Object(B.withStyles)(function(e){return{root:{flexGrow:1},paper:{height:140,width:100,border:"dashed 2px gray"},control:{padding:2*e.spacing.unit}}})(st),mt=a(54),dt=Object(mt.d)({accessToken:"pk.eyJ1Ijoic3BhdGlhbGRldiIsImEiOiJjanR6YWVpY3czMmVtNDRvNGQyeGN3emRuIn0.hZCkLMyEjHy9XSZQXpiImg",dragPan:!1}),ht=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).doNotPropagate=function(e){e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()},a.onDragEnd=function(e){(0,a.props.passMapCoordinates)({lng:e.lngLat.lng,lat:e.lngLat.lat})},a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.centerLng,n=t.centerLat;return r.a.createElement("div",null,r.a.createElement(dt,{style:"mapbox://styles/mapbox/streets-v9",center:{lng:a,lat:n},className:"formMap",onTouchMove:function(t,a){return e.doNotPropagate(a)}},r.a.createElement(mt.b,{type:"circle",id:"marker",paint:{"circle-color":"#ff5200","circle-stroke-width":1,"circle-stroke-opacity":1,"circle-radius":10}},r.a.createElement(mt.a,{coordinates:[a,n],draggable:!0,onDragEnd:function(t){return e.onDragEnd(t)}}))))}}]),t}(n.Component),pt=a(367),gt=function e(){var t=this;Object(u.a)(this,e),this.getNeighborhoodFor=function(e,a){return t.geocodingService.reverseGeocode({query:[a,e],types:["neighborhood"]}).send().then(function(e){var t=e.body.features;return t&&t.length>0?t[0].text:"Unknown"})},this.geocodingService=pt({accessToken:"pk.eyJ1Ijoic3BhdGlhbGRldiIsImEiOiJjanR6YWVpY3czMmVtNDRvNGQyeGN3emRuIn0.hZCkLMyEjHy9XSZQXpiImg"})};gt.getAllNeighborhoods=function(){return Te.a.get("https://us-central1-seattlecarnivores-edca2.cloudfunctions.net/getNeighborhoods").then(function(e){return e.data.sort()})};a(5962);var ft=a(368),bt=(a(343),a(344),a(345),a(346),a(347),a(348),a(349),a(146)),Et=a.n(bt),vt=a(144),Ct=a.n(vt),yt=a(145),Ot=a.n(yt),wt=function(e){return e&&e.onClick&&e.message},kt=function(e){var t=e.open,a=e.onClose,n=e.message,o=e.noButton,l=e.yesButton;return r.a.createElement(Ue.a,{open:t,onClose:a},r.a.createElement(Be.a,null,r.a.createElement(Ct.a,null,n)),wt(o)||wt(l)?r.a.createElement(Ot.a,null,wt(o)?r.a.createElement(U.a,{onClick:o.onClick,color:"primary"},o.message):null,wt(l)?r.a.createElement(U.a,{onClick:l.onClick,color:"primary"},l.message):null):null)},jt="https://us-central1-seattlecarnivores-edca2.cloudfunctions.net/addReport",St=["Black Bear","Bobcat","Cougar/Mountain Lion","Coyote","Opossum","Raccoon","River Otter","Other/Unknown"],xt=["blackbear","bobcat","cougar","coyote","opossum","raccoon","riverotter"],Nt=["Not at all confident","About 25% confident","About 50% confident","About 75% confident","More than 75% confident","100% confident"],Dt=["Stayed quiet","Shouted/made noise","Other"],It=["Small (up to 20lbs)","Medium(20-60lbs)","Large(60+lbs)","Mixed group"],Mt=["Leashed","Unleashed","Both"],Lt=["Was eating","Urinated","Defecated"],Rt=["Barking","Howling","Growling","Other"],Tt=["Animal did not seem to notice observer","Animal ran away","Animal stood ground-seemed interested in observer","Animal stood ground - seemed uninterested in observer","Animal moved towards observer, pets or livestock, and not simply to access an escape route"],At=["Animal made physical contact with pet or livestock","Animal made physical contact with human(s)","Interacted with human-related item or place (e.g., trash can, birdfeeder, fence/yard, attic)"],Pt=[0,1,2,3,4,5,6,7,8,9],Ft="Thank you for your submission! Please note that the system will display your observation on the map after a period of one week.",Bt="Something went wrong during your submission. Please try again later.",zt="Please choose a set of files to upload that are smaller than 5MB in total.",Ut=5242880,_t=new gt,Vt={THANKS:"thanks",ERROR:"error",LARGE_FILES:"largeFiles",PERMISSION:"permission",CLOSED:"closed"},Wt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(I.a)(this,Object(M.a)(t).call(this,e))).state={species:"",timestamp:new Date,mapLat:47.668733,mapLng:-122.354291,confidence:"",animalFeatures:"",numberOfAdultSpecies:"",numberOfYoungSpecies:"",numberOfAdults:"",numberOfChildren:"",reaction:"",reactionDescription:"",numberOfDogs:"",dogSize:"",onLeash:"",animalBehavior:"",animalEating:"",vocalization:"",vocalizationDesc:"",carnivoreResponse:"",carnivoreConflict:"",conflictDesc:"",contactEmail:"",contactName:"",contactPhone:"",generalComments:"",neighborhood:"",media:null,mediaPaths:[],dialogMode:Vt.CLOSED,submitting:!1,permissionOpen:!1,showObserverDetails:!1,showAnimalBehavior:!1,showContactInformation:!1,showCarousel:!1,carouselImageIndex:0},a.updateNeighborhood=function(e,t){_t.getNeighborhoodFor(e,t).then(function(n){return a.setState(function(a){return a.mapLat===e&&a.mapLng===t?{neighborhood:n}:{}})})},a.componentDidMount=function(){a.updateNeighborhood(a.state.mapLat,a.state.mapLng),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){a.getMapCoordinates({lat:e.coords.latitude,lng:e.coords.longitude})},function(e){return console.log(e)})},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.getMapCoordinates=function(e){a.setState({mapLat:e.lat,mapLng:e.lng}),a.updateNeighborhood(e.lat,e.lng)},a.handleSubmit=function(){var e=a.state,t=(e.dialogMode,e.submitting,Object(Le.a)(e,["dialogMode","submitting"]));return delete t.media,a.setState({submitting:!0}),Te.a.post(jt,t).then(function(e){a.setState({submitting:!1}),200===e.status?a.setState({dialogMode:Vt.THANKS}):a.setState({dialogMode:Vt.ERROR})})},a.handleUploadSuccess=function(e){a.setState({mediaPaths:e})},a.handleTimestampChange=function(e){a.setState({timestamp:new Date(e)})},a.setMedia=function(e,t){a.fileUploader=t,a.setState({media:e})},a.uploadMedia=function(){var e=a.state.media;e&&(e.slice(0,-2).reduce(function(e,t){return e+t.size},0)>=Ut?a.setState({media:null,dialogMode:Vt.LARGE_FILES}):e.forEach(function(e){return a.fileUploader.startUpload(e)}))},a.handlePermissionResponse=function(e){a.setState({dialogMode:Vt.CLOSED}),e&&a.uploadMedia()},a.handleClose=function(){var e=a.props,t=e.history,n=e.handleDrawerState,r=e.fromDrawer;a.setState({dialogMode:Vt.CLOSED},function(){t.push("/"),r&&n(!1)})},a.getCollapse=function(e,t,a,n,o){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.expandHeader},r.a.createElement("span",{className:e.headerTitle},t),r.a.createElement(W.e,{className:e.expandButton,onClick:a,size:"small",disableRipple:!0},n?r.a.createElement(Y.a,null):r.a.createElement(G.a,null))),r.a.createElement(W.d,{in:n,className:e.collapsible},o))},a.toggleShow=function(e){return function(){a.setState(function(t){return Object(v.a)({},t,Object(E.a)({},e,!t[e]))})}},a.openCarousel=function(e){var t=e===St.length-1?0:e;a.setState({showCarousel:!0,carouselImageIndex:t})},a.closeCarousel=function(){a.setState({showCarousel:!1,carouselImageIndex:0})},a.getDialogFromMode=function(e){switch(e){case Vt.CLOSED:return r.a.createElement(kt,{open:!1});case Vt.ERROR:return r.a.createElement(kt,{open:!0,onClose:a.handleClose,message:Bt});case Vt.LARGE_FILES:return r.a.createElement(kt,{open:!0,onClose:function(){return a.setState({dialogMode:Vt.CLOSED})},message:zt});case Vt.PERMISSION:return r.a.createElement(kt,{open:!0,onClose:function(){return a.setState({dialogMode:Vt.CLOSED})},message:"Is is ok if we store the images and audio that you've uploaded? If you say no, we will not be able to show your pictures to other users",noButton:{onClick:function(){return a.handlePermissionResponse(!1)},message:"No, don't use my media"},yesButton:{onClick:function(){return a.handlePermissionResponse(!0)},message:"Yes, use my media"}});case Vt.THANKS:return r.a.createElement(kt,{open:!0,onClose:a.handleClose,message:Ft});default:return null}},a.fileUploader=r.a.createRef(),a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.mapLat,o=t.mapLng,l=t.timestamp,i=t.confidence,c=t.numberOfAdultSpecies,s=t.numberOfYoungSpecies,u=t.numberOfAdults,m=t.numberOfChildren,d=t.reaction,h=t.reactionDescription,p=t.numberOfDogs,g=t.dogSize,f=t.onLeash,b=t.animalBehavior,E=t.animalEating,v=t.vocalization,C=t.vocalizationDesc,y=t.carnivoreResponse,O=t.carnivoreConflict,w=t.conflictDesc,k=t.contactName,j=t.contactEmail,S=t.contactPhone,x=t.generalComments,N=t.mediaPaths,D=t.submitting,I=t.neighborhood,M=t.dialogMode,L=t.showObserverDetails,R=t.showAnimalBehavior,T=t.showContactInformation,A=this.props,P=A.classes,F=A.isMobile;return r.a.createElement(He.a,{active:D,spinner:!0,text:"Submitting..."},r.a.createElement("h2",null,"Report a carnivore sighting"),r.a.createElement(Ve.ValidatorForm,{onError:function(e){return console.log(e)},onSubmit:this.handleSubmit,className:"formWizardBody",autoComplete:"off"},r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"When did you see the animal?"),r.a.createElement(_e.a,{selected:l,onChange:this.handleTimestampChange,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"time"})),r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"Identify the location of your sighting"),r.a.createElement("p",null," Drag the point on the map to mark your sighting"),r.a.createElement(ht,{passMapCoordinates:this.getMapCoordinates,centerLng:o,centerLat:n}),I?r.a.createElement("p",null,I):null),r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"Upload pictures, videos or sound files"),r.a.createElement(ut,{uploadMedia:this.setMedia,getMediaPaths:this.handleUploadSuccess}),N.length>0?r.a.createElement("p",null,N.length," files uploaded"):null),r.a.createElement(U.a,{size:"small",color:"secondary",variant:"contained",onClick:function(){return e.setState({dialogMode:Vt.PERMISSION})}},"Upload"),r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"Which animal did you see?"),r.a.createElement(Ue.a,{open:this.state.showCarousel,onClose:this.closeCarousel},r.a.createElement(Be.a,null,r.a.createElement(ft.Carousel,{className:F?P.carouselMobile:P.carouselDesktop,useKeyboardArrows:!0,selectedItem:this.state.carouselImageIndex,swipeable:!0,showThumbs:!1,showIndicators:!1},xt.map(function(e,t){return r.a.createElement("img",{key:t,src:a(350)("./"+e+".png"),alt:"Black Bear",className:F?P.mobileImage:P.desktopImage})})))),St.map(function(t,a){return r.a.createElement("span",{className:F?P.radioButtonContainerMobile:"radioButtonContainer",key:a},r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"react-tips",value:t,onChange:function(){return e.setState({species:t})}}),t)),r.a.createElement("div",null,r.a.createElement(W.e,{"aria-label":"Info",className:"infoButton",size:"small"},r.a.createElement(Et.a,{onClick:function(){return e.openCarousel(a)}}))))})),r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"How confident are you that you have identified the animal correctly?"),r.a.createElement(Ve.SelectValidator,{value:i,style:{minWidth:"300px"},validators:["required"],errorMessages:["This field is required"],variant:"outlined",label:"Confidence",onChange:this.handleChange,inputProps:{name:"confidence",id:"confidence"}},Nt.map(function(e,t){return r.a.createElement(Pe.a,{key:t,value:e},e)}))),r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"How many of the species did you see?"),r.a.createElement("div",null,r.a.createElement(Ve.SelectValidator,{value:c,style:{minWidth:"300px",marginBottom:"15px"},validators:["required"],errorMessages:["This field is required"],variant:"outlined",label:"Number of Adult",onChange:this.handleChange,inputProps:{name:"numberOfAdultSpecies",id:"numberOfAdultSpecies"}},Pt.map(function(e){return r.a.createElement(Pe.a,{key:e,value:e},9===e?"9+":e.toString())}))),r.a.createElement(Ve.SelectValidator,{value:s,style:{minWidth:"300px"},validators:["required"],errorMessages:["This field is required"],variant:"outlined",label:"Number of Young",onChange:this.handleChange,inputProps:{name:"numberOfYoungSpecies",id:"numberOfYoungSpecies"}},Pt.map(function(e){return r.a.createElement(Pe.a,{key:e,value:e},9===e?"9+":e.toString())}))),r.a.createElement("br",null),r.a.createElement("div",{className:P.allContent},this.getCollapse(P,"Observer Details (Optional)",this.toggleShow("showObserverDetails"),L,r.a.createElement("div",{className:P.headerTitle},r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"How many were in your group?"),r.a.createElement(Ve.SelectValidator,{value:u,style:{minWidth:"300px",marginBottom:"15px"},variant:"outlined",label:"Number of Adults",onChange:this.handleChange,inputProps:{name:"numberOfAdults",id:"numberOfAdults"}},Pt.map(function(e){return r.a.createElement(Pe.a,{key:e,value:e},9===e?"9+":e.toString())})),r.a.createElement("p",{className:"childrenAgeText"},"Children up to 9 years old"),r.a.createElement(Ve.SelectValidator,{value:m,style:{minWidth:"300px",marginTop:"5px"},variant:"outlined",label:"Number of Children",onChange:this.handleChange,inputProps:{name:"numberOfChildren",id:"numberOfChildren"}},Pt.map(function(e){return r.a.createElement(Pe.a,{key:e,value:e},9===e?"9+":e.toString())}))),r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"How did you react?"),r.a.createElement(Ve.SelectValidator,{value:d,style:{minWidth:"300px"},variant:"outlined",label:"Reaction",onChange:this.handleChange,inputProps:{name:"reaction",id:"reaction"}},Dt.map(function(e,t){return r.a.createElement(Pe.a,{key:t,value:e},e)})),"Other"===d?r.a.createElement(Ve.TextValidator,{label:"Describe (limit 80 char)",multiline:!0,rows:"4",value:h,inputProps:{name:"reactionDescription",id:"reactionDescription",maxLength:80},onChange:this.handleChange,margin:"normal",variant:"outlined"}):null),r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"Were there dog(s) present with you / your group?"),r.a.createElement(Ve.SelectValidator,{value:p,select:!0,style:{minWidth:"300px"},variant:"outlined",label:"Number of Dogs",onChange:this.handleChange,inputProps:{name:"numberOfDogs",id:"numberOfDogs"}},Pt.map(function(e){return r.a.createElement(Pe.a,{key:e,value:e},e.toString())})),p>0?r.a.createElement("div",null,r.a.createElement(Ve.SelectValidator,{value:g,style:{minWidth:"300px"},variant:"outlined",label:"Size of dog(s)",onChange:this.handleChange,inputProps:{name:"dogSize",id:"dogSize"}},It.map(function(e,t){return r.a.createElement(Pe.a,{key:t,value:e},e)})),r.a.createElement(Ve.SelectValidator,{value:f,style:{minWidth:"300px"},variant:"outlined",label:"On Leash",onChange:this.handleChange,inputProps:{name:"onLeash",id:"onLeash"}},Mt.map(function(e,t){return r.a.createElement(Pe.a,{key:t,value:e},e)}))):null))),r.a.createElement("hr",null)),r.a.createElement("br",null),r.a.createElement("div",{className:P.allContent},this.getCollapse(P,"Animal Behavior (Optional)",this.toggleShow("showAnimalBehavior"),R,r.a.createElement("div",{className:P.headerTitle},r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"What was it doing?"),r.a.createElement(Ve.SelectValidator,{value:b,style:{minWidth:"300px"},variant:"outlined",label:"Animal Behavior",onChange:this.handleChange,inputProps:{name:"animalBehavior",id:"animalBehavior"}},Lt.map(function(e,t){return r.a.createElement(Pe.a,{key:t,value:e},e)})),"Was eating"===b?r.a.createElement(Ve.TextValidator,{label:"What it was eating (if observed):",multiline:!0,style:{minWidth:"300px"},rows:"4",value:E,inputProps:{name:"animalEating",id:"animalEating",maxLength:80},onChange:this.handleChange,margin:"normal",variant:"outlined"}):null),r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"Did it vocalize?"),r.a.createElement(Ve.SelectValidator,{value:v,style:{minWidth:"300px"},variant:"outlined",label:"Vocalization",onChange:this.handleChange,inputProps:{name:"vocalization",id:"vocalization"}},Rt.map(function(e,t){return r.a.createElement(Pe.a,{key:t,value:e},e)})),"Other"===v?r.a.createElement(Ve.TextValidator,{label:"Describe (limit 80 char)",multiline:!0,required:!0,rows:"4",value:C,inputProps:{name:"vocalizationDesc",id:"vocalizationDesc",maxLength:80},onChange:this.handleChange,margin:"normal",variant:"outlined"}):null),r.a.createElement("div",{className:"formItem",id:"carnivoreResponse"},r.a.createElement("h4",null,"How did it react?"),r.a.createElement(Ve.SelectValidator,{value:y,style:{minWidth:"300px"},variant:"outlined",label:"Carnivore Response",onChange:this.handleChange,inputProps:{name:"carnivoreResponse",id:"carnivoreResponse"}},Tt.map(function(e,t){return r.a.createElement(Pe.a,{style:{whiteSpace:"normal",marginBottom:"10px"},key:t,value:e},e)}))),r.a.createElement("div",{className:"formItem",id:"carnivoreConflict"},r.a.createElement("h4",null,"Was there an interaction with the observer, pets/livestock or other items?"),r.a.createElement(Ve.SelectValidator,{style:{minWidth:"300px"},value:O,variant:"outlined",label:"Carnivore Conflict",onChange:this.handleChange,inputProps:{name:"carnivoreConflict",id:"carnivoreConflict"}},At.map(function(e,t){return r.a.createElement(Pe.a,{style:{whiteSpace:"normal",marginBottom:"10px"},key:t,value:e},e)})),0===At.indexOf(O)||2===At.indexOf(O)?r.a.createElement(Ve.TextValidator,{label:"Describe (limit 80 char)",multiline:!0,style:{minWidth:"300px"},rows:"4",value:w,inputProps:{name:"conflictDesc",id:"conflictDesc",maxLength:80},onChange:this.handleChange,margin:"normal",variant:"outlined"}):null))),r.a.createElement("hr",null)),r.a.createElement("br",null),r.a.createElement("div",{className:P.allContent},this.getCollapse(P,"Contact Information (Optional)",this.toggleShow("showContactInformation"),T,r.a.createElement("div",{className:P.headerTitle},r.a.createElement("div",{className:"formItem"},r.a.createElement("p",null," This information will not be shared and will be available to project coordinators only."),r.a.createElement("div",null,r.a.createElement(Ve.TextValidator,{value:k,style:{minWidth:"300px",marginBottom:"15px"},variant:"outlined",label:"Name",onChange:this.handleChange,inputProps:{name:"contactName",id:"contactName"}})),r.a.createElement("div",null,r.a.createElement(Ve.TextValidator,{value:j,variant:"outlined",label:"Email",style:{minWidth:"300px",marginBottom:"15px"},onChange:this.handleChange,validators:["isEmail"],errorMessages:["Email is not valid"],inputProps:{name:"contactEmail",id:"contactEmail"}})),r.a.createElement(Ve.TextValidator,{value:S,variant:"outlined",label:"Phone Number",style:{minWidth:"300px"},onChange:this.handleChange,inputProps:{name:"contactPhone",id:"contactPhone"}})))),r.a.createElement("hr",null)),r.a.createElement("br",null),r.a.createElement("div",{className:"formItem"},r.a.createElement("h4",null,"Comments (Optional)"),r.a.createElement(Ve.TextValidator,{value:x,style:{minWidth:"300px"},variant:"outlined",label:"General Comments",onChange:this.handleChange,inputProps:{name:"generalComments",id:"generalComments"}})),r.a.createElement(U.a,{variant:"contained",type:"submit",color:"primary"},"Submit")),this.getDialogFromMode(M))}}]),t}(n.Component),Ht=Object(R.a)(Object(B.withStyles)({allContent:{height:"100%",overflow:"scroll",position:"static",display:"flex",flexDirection:"column",backgroundColor:"white"},header:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,backgroundColor:"white",zIndex:1},expandButton:{boxShadow:"none",position:"relative",top:-8,backgroundColor:"#93C838",color:"white",alignItems:"baseline"},expandHeader:{margin:16,justifyContent:"space-between"},headerTitle:{fontWeight:"bold",alignText:"center"},collapsible:{margin:0,textAlign:"center"},carouselDesktop:{width:400,height:500},carouselMobile:{width:320,height:400},mobileImage:{width:300,height:389},desktopImage:{width:382,height:495},radioButtonContainerMobile:{display:"flex",alignItems:"baseline",flexDirection:"row",justifyContent:"space-between",position:"relative",paddingLeft:35,paddingRight:35}})(Object(f.b)(function(e){return{isMobile:e.isMobile}})(Wt))),Gt=a(357),Xt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.toggleDrawer=function(e){return function(){var t=a.props.history,n=a.state.open;a.setState({open:e},function(){n?t.push("/"):t.push("/reports/create")})}},a.handleDrawer=function(e){a.setState({open:e})},a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location;window.innerWidth<768&&"/reports/create"===e.pathname&&this.handleDrawer(!0)}},{key:"render",value:function(){var e=this.state.open,t=this.props,a=t.classes,n=t.history;return r.a.createElement("div",{className:"footerIconDiv"},r.a.createElement(U.a,{className:"footerIcons",style:{float:"left",marginLeft:"50px"}},r.a.createElement(je.a,{style:{color:"gray"},onClick:function(){return n.push("/")}}),r.a.createElement("p",null,"Explore")),r.a.createElement(De.a,{color:"primary","aria-label":"Add",className:"plusButton",size:"large",onClick:this.toggleDrawer(!e)},r.a.createElement(G.a,null)),r.a.createElement(Me.a,{anchor:"bottom",open:e,onClose:this.toggleDrawer(!e),className:"formWizard"},r.a.createElement("div",{tabIndex:0},r.a.createElement("div",null,r.a.createElement(De.a,{color:"primary","aria-label":"Add",className:a.fab},r.a.createElement(we.a,{onClick:this.toggleDrawer(!e)}))),r.a.createElement(Ht,{handleDrawerState:this.handleDrawer,fromDrawer:!0}))),r.a.createElement(U.a,{className:"footerIcons",style:{float:"right",marginRight:"50px"},onClick:function(){return n.push("/resources")}},r.a.createElement(xe.a,{style:{color:"gray"}}),r.a.createElement("p",null,"Resources")))}}]),t}(n.Component),Yt=Object(Gt.a)(Object(B.withStyles)(function(e){return{list:{width:250},fullList:{width:"100%"},fab:{margin:e.spacing.unit},extendedIcon:{marginRight:e.spacing.unit}}})(Xt)),qt=a(5994),Jt=a(5992),Zt=a(93),Kt=a.n(Zt),Qt=a(96),$t=a.n(Qt),ea=a(116),ta=a.n(ea),aa=a(150),na=a.n(aa),ra=a(58),oa=a.n(ra),la=a(5991),ia=Object(B.withStyles)(function(e){return{info:{flexDirection:"column",flexGrow:1,flex:1,textAlign:"left"},allContent:{display:"flex",padding:0}}})(function(e){var t=e.classes,a=e.report;return r.a.createElement($t.a,{className:"card"},r.a.createElement(ta.a,{className:t.allContent},r.a.createElement(na.a,{className:"cardPicture",image:a.data.mediaPaths&&a.data.mediaPaths.length>0?a.data.mediaPaths[0]:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/2010-brown-bear.jpg/200px-2010-brown-bear.jpg"}),r.a.createElement(ta.a,{className:t.info},r.a.createElement(oa.a,{variant:"h3"},a.data.species.toUpperCase()),r.a.createElement(oa.a,{variant:"subtitle1"},function(e){var t=new Date(e);return"".concat(t.toDateString()," ").concat(t.getHours(),":").concat(t.getMinutes())}(a.data.timestamp)),r.a.createElement(oa.a,{style:{color:"grey"}},a.data.mapLat,",",a.data.mapLng),r.a.createElement("li",null,r.a.createElement(la.a,{to:"/reports/".concat(a.id)},"See Report")))))}),ca=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={reports:null},a.timeToNanos=function(e){return e._nanoseconds+1e9*e._seconds},a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this;Te.a.get("https://us-central1-seattlecarnivores-edca2.cloudfunctions.net/getReports").then(function(t){e.setState({reports:t.data})}).catch(function(e){return e})}},{key:"render",value:function(){var e=this,t=this.state.reports,a=this.props,n=a.filter,o=a.isMobile,l=a.history,i=a.classes;return t?r.a.createElement("div",{className:"backgroundCardContainer"},o?null:r.a.createElement("div",{className:"filterContainer"},r.a.createElement(ve,null)),r.a.createElement("div",{className:"cardContainer"},t.filter(function(e){return S(e,n)}).sort(function(t,a){return e.timeToNanos(a.data.time_submitted)-e.timeToNanos(t.data.time_submitted)}).map(function(e){return r.a.createElement(ia,{report:e,key:e.id})}),r.a.createElement("div",null,r.a.createElement(je.a,{onClick:function(){return l.push("/")},className:o?i.toggleButtonMobile:i.toggleButtonDesktop})))):r.a.createElement(Kt.a,null)}}]),t}(n.Component),sa=Object(R.a)(Object(f.b)(function(e){return{isMobile:e.isMobile,filter:e.filter}})(Object(B.withStyles)({toggleButtonMobile:{bottom:"20%",left:"88%",zIndex:99,position:"fixed"},toggleButtonDesktop:{left:"95%",zIndex:99,position:"fixed",bottom:"20%"}})(ca))),ua=a(97),ma=function(e){function t(){return Object(u.a)(this,t),Object(I.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.report,a=e.classes,n=e.history;return r.a.createElement("div",{className:a.allContent},r.a.createElement("img",{className:a.image,src:t.data.mediaPaths&&t.data.mediaPaths.length>0?t.data.mediaPaths[0]:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/2010-brown-bear.jpg/200px-2010-brown-bear.jpg"}),r.a.createElement("div",{className:a.info},r.a.createElement("div",null,r.a.createElement("strong",null,t.data.species)),r.a.createElement("div",null,r.a.createElement("strong",null,"Date & Time:")),r.a.createElement("div",null,function(e){var t=new Date(e);return"".concat(t.toDateString()," ").concat(t.getHours(),":").concat(t.getMinutes())}(t.data.timestamp)),r.a.createElement("div",null,r.a.createElement("strong",null,"Location:")," ",t.data.neighborhood)),r.a.createElement("div",{className:a.reportLink,onClick:function(){return n.push("/reports/".concat(t.id))}},r.a.createElement(ua.b,null)))}}]),t}(n.Component),da=Object(B.withStyles)({allContent:{display:"flex",height:80},caption:{fontWeight:"bold"},reportLink:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},image:{maxWidth:40,maxHeight:40,margin:4}})(Object(R.a)(ma)),ha=a(152),pa=a.n(ha),ga=a(153),fa=a.n(ga),ba=a(151),Ea=a.n(ba),va=Object(mt.d)({accessToken:"pk.eyJ1Ijoic3BhdGlhbGRldiIsImEiOiJjanR6YWVpY3czMmVtNDRvNGQyeGN3emRuIn0.hZCkLMyEjHy9XSZQXpiImg"}),Ca="https://us-central1-seattlecarnivores-edca2.cloudfunctions.net/getReports",ya=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(o)))).state={viewport:{center:[-122.335167,47.608013],zoom:[10]},popupInfo:null,reports:null,legend:!1},a.onMoveEnd=function(e){var t=e.getCenter(),n=Ca+"?mapLat="+t.lat+"&mapLng="+t.lng;Te.a.get(n).then(function(e){"No data!"!==e.data?a.setState({reports:e.data}):a.setState({reports:null})}).catch(function(e){return e})},a.handleClose=function(){var e=a.props.history;a.setState({legend:!1},function(){e.push("/")})},a.showLegend=function(){return me.entrySeq().map(function(e){var t=Object(q.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{key:a},r.a.createElement("span",{style:{background:n},className:"dot"}),r.a.createElement("label",{key:a,className:"label"}," ",a," "))})},a.updateLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){a.setState({viewport:{center:[e.coords.longitude,e.coords.latitude],zoom:[10]}})},function(e){return console.log(e)}):a.setState({viewport:{center:[-122.354291,47.668733],zoom:[10]}})},a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Ca+"?mapLat=47.608013&mapLng=-122.335167";Te.a.get(t).then(function(t){e.setState({reports:t.data})}).catch(function(e){return e})}},{key:"renderPopup",value:function(){var e=this,t=this.state.popupInfo;if(t)return r.a.createElement(mt.c,{coordinates:[t.data.mapLng,t.data.mapLat],onClick:function(){return e.setState({popupInfo:!1})},anchor:"bottom"},r.a.createElement(da,{report:t}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.isMobile,o=t.filter,l=t.history,i=this.state,c=i.reports,s=i.legend;return c?r.a.createElement("div",{className:"mapContainer"},!n&&r.a.createElement("div",{className:a.filterContainer},r.a.createElement(ve,null)),r.a.createElement(va,Object.assign({style:"mapbox://styles/mapbox/streets-v9",className:"map"},this.state.viewport,{onMoveEnd:function(t){return e.onMoveEnd(t)}}),this.renderPopup(),c.filter(function(e){return S(e,o)}).map(function(t){return r.a.createElement(mt.b,{type:"circle",key:t.id,paint:{"circle-color":de(t.data.species.toLowerCase())}},r.a.createElement(mt.a,{key:t.id,coordinates:[t.data.mapLng,t.data.mapLat],onClick:function(){return e.setState({popupInfo:t})}}))}),r.a.createElement("div",{className:n?a.legendMobile:a.legendDesktop},r.a.createElement(De.a,{"aria-label":"Legend",size:"small"},r.a.createElement(Ea.a,{onClick:function(){return e.setState({legend:!0})}}))),r.a.createElement("div",{className:n?a.buttonContainerMobile:a.buttonContainerDesktop},r.a.createElement("div",null,r.a.createElement(De.a,{"aria-label":"Navigation",size:"small"},r.a.createElement(pa.a,{onClick:function(){return e.updateLocation()}}))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(De.a,{"aria-label":"Toggle",size:"small"},r.a.createElement(fa.a,{onClick:function(){return l.push("/list")}})))),r.a.createElement("div",null,r.a.createElement(Ue.a,{open:s,onClose:this.handleClose,className:"two-col-special"},r.a.createElement(Be.a,null,r.a.createElement("div",null,this.showLegend())))))):r.a.createElement(va,Object.assign({style:"mapbox://styles/mapbox/streets-v9",className:"map"},this.state.viewport,{onMoveEnd:function(t){return e.onMoveEnd(t)}}))}}]),t}(n.Component),Oa=Object(R.a)(Object(f.b)(function(e){return{isMobile:e.isMobile,filter:e.filter}})(Object(B.withStyles)({filterContainer:{backgroundColor:"white",position:"fixed",left:"5%",top:"15%",width:250,zIndex:1,height:"60%",boxShadow:"2px 2px 2px"},buttonContainerMobile:{left:"88%",position:"fixed",bottom:"20%"},buttonContainerDesktop:{left:"95%",position:"fixed",bottom:"20%"},legendMobile:{top:"12%",left:"87%",position:"fixed"},legendDesktop:{top:"12%",left:"95%",position:"fixed"}})(ya))),wa=a(369),ka=a.n(wa),ja=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={report:null},a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;Te.a.get("https://us-central1-seattlecarnivores-edca2.cloudfunctions.net/getReport"+"?id=".concat(t)).then(function(t){e.setState({report:t.data})}).catch(function(e){return e})}},{key:"render",value:function(){var e=this.props.history,t=this.state.report;if(!t)return r.a.createElement(W.c,null);var a=new Date(t.timestamp),n=[];return void 0!==t.mediaPaths&&t.mediaPaths.length>0&&t.mediaPaths.map(function(e){n.push({original:e,thumbnail:e})}),r.a.createElement("div",{className:"reportViewer"},r.a.createElement(W.i,{className:"reportViewerToolbar"},r.a.createElement(U.a,{className:"backToExplore",onClick:function(){return e.goBack()}}," ",r.a.createElement(ua.a,null),"Back"),r.a.createElement("h4",null,t.species.toUpperCase())),r.a.createElement($t.a,{className:"reportCard"},n?r.a.createElement(ka.a,{items:n,showBullets:!0,showIndex:!0,showThumbnails:!1,showVideo:!0}):null,r.a.createElement("div",{style:{backgroundColor:"white",textAlign:"left",paddingLeft:"30px"}},r.a.createElement("p",null,r.a.createElement("strong",null,"Date:")," ",new Date(t.timestamp).toDateString()),r.a.createElement("p",null,r.a.createElement("strong",null,"Time of Sighting:")," ",a.getHours(),":",a.getMinutes()),r.a.createElement("p",null,r.a.createElement("strong",null,"Neighborhood:")," NEIGHBORHOOD HERE"),r.a.createElement("p",null,r.a.createElement("strong",null,"Confidence:")," ",t.confidence))))}}]),t}(n.Component),Sa=Object(R.a)(ja),xa=a(370),Na=a.n(xa),Da=Object(R.a)(Object(B.withStyles)({oops:{color:"#8acc25",fontSize:"64px"},text:{fontSize:20,marginLeft:"20%",marginRight:"20%"},raccoon:{position:"fixed",bottom:0,transform:"translateX(-50%)",zIndex:-1,maxHeight:"40%",minHeight:"15%"},raccoonMobile:{position:"fixed",bottom:"10%",transform:"translateX(-50%)",zIndex:-1,maxHeight:"30%",minHeight:"15%"},button:{backgroundColor:"#8acc25",color:"white"},container:{zIndex:0},background:{backgroundColor:"#f4f4f4",minHeight:"100vh",zIndex:-100,position:"fixed",top:0}})(Object(f.b)(function(e){return{isMobile:e.isMobile}})(function(e){var t=e.classes,a=e.history,n=e.isMobile;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.background}),r.a.createElement("div",{className:t.container},r.a.createElement("h1",{className:t.oops},r.a.createElement("strong",null,"oops!")),r.a.createElement("h2",null,"404 - Page not found"),r.a.createElement("p",{className:t.text},"Sorry, the page you are looking for could not be found."),r.a.createElement(W.a,{variant:"contained",onClick:function(){return a.push("/")},className:t.button,size:"large"},"Back to Map"),r.a.createElement("br",null),r.a.createElement("img",{src:Na.a,alt:"Raccoon",className:n?t.raccoonMobile:t.raccoon})))}))),Ia=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={species:null},a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.species;this.setState({species:e})}},{key:"render",value:function(){var e=this.state.species,t=this.props,n=t.history,o=t.isMobile,l=t.classes;return e?r.a.createElement("div",null,r.a.createElement("div",{className:l.mobileButton},r.a.createElement(W.a,{className:"backToExplore",onClick:function(){return n.goBack()}}," ",r.a.createElement(ua.a,null),"Back")),r.a.createElement("div",{className:o?l.mobileImageContainer:l.desktopImageContainer},r.a.createElement("img",{className:o?l.mobileImage:l.desktopImage,src:a(350)("./"+e+".png")}))):r.a.createElement(Kt.a,null)}}]),t}(n.Component),Ma=Object(R.a)(Object(B.withStyles)({mobileImage:{width:400,height:500,paddingLeft:0,paddingRight:20},desktopImage:{width:400,height:500},mobileButton:{zIndex:99,alignItems:"left",textAlign:"left"},mobileImageContainer:{paddingLeft:10,paddingRight:20},desktopImageContainer:{paddingLeft:10,paddingRight:20}})(Object(f.b)(function(e){return{isMobile:e.isMobile}})(Ia))),La=a(155),Ra=a.n(La),Ta=a(154),Aa=a.n(Ta),Pa=["blackbear","bobcat","cougar","coyote","opossum","raccoon","riverotter"],Fa=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(I.a)(this,Object(M.a)(t).call(this,e))).getCollapse=function(e,t,a,n,o){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.expandHeader},r.a.createElement("span",{className:e.headerTitle},t),r.a.createElement(W.e,{onClick:a,size:"small",disableRipple:!0},n?r.a.createElement(Aa.a,null):r.a.createElement(Ra.a,null))),r.a.createElement(W.d,{in:n,className:e.collapsible},o))},a.toggleShow=function(e){return function(){a.setState(function(t){return Object(v.a)({},t,Object(E.a)({},e,!t[e]))})}},a.render=function(){var e=a.state,t=e.showTips,n=e.showProjectDescription,o=e.showContactUs,l=a.props,i=l.classes,c=l.isMobile;return r.a.createElement("div",{className:c?i.allContent:i.allContentDesktop},a.getCollapse(i,"Species Identification Tips",a.toggleShow("showTips"),t,r.a.createElement("div",null,Pa.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(la.a,{to:"/resources/".concat(e)},pe(e)))}))),r.a.createElement("hr",null),a.getCollapse(i,"Seattle Urban Carnivore Project",a.toggleShow("showProjectDescription"),n,r.a.createElement("div",{className:i.headerTitle},r.a.createElement("p",null,"Seattle Spotter is part of the SeattleUrban Carnivore Project, a collaboration between the Seattle University and WoodlandPark Zoo"),r.a.createElement("a",{href:"https://www.zoo.org/otters"},"learn more"))),r.a.createElement("hr",null),a.getCollapse(i,"Contact Us",a.toggleShow("showContactUs"),o,r.a.createElement("div",{className:i.headerTitle},r.a.createElement("a",{href:"mailto:seattlecarnivores@zoo.org"},"seattlecarnivores@zoo.org"))),r.a.createElement("hr",null))},a.state={showTips:!1,showProjectDescription:!1,showContactUs:!1},a}return Object(L.a)(t,e),t}(n.Component),Ba=Object(B.withStyles)({allContent:{height:"100%",overflow:"scroll",position:"relative",flexDirection:"column",backgroundColor:"white"},allContentDesktop:{paddingTop:50,height:"100%",overflow:"scroll",position:"relative",flexDirection:"column",backgroundColor:"white"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,backgroundColor:"white",zIndex:1},expandButton:{boxShadow:"none",float:"right",position:"relative",top:-8,backgroundColor:"#93C838",color:"white"},expandHeader:{margin:16,display:"flex",justifyContent:"space-between"},headerTitle:{alignText:"left"},collapsible:{margin:16,textAlign:"left"}})(Object(f.b)(function(e){return{isMobile:e.isMobile}})(Fa)),za=function(){return r.a.createElement("main",{className:"Main"},r.a.createElement(qt.a,null,r.a.createElement(Jt.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Oa,null)}}),r.a.createElement(Jt.a,{exact:!0,path:"/reports/create",component:Ht}),r.a.createElement(Jt.a,{exact:!0,path:"/list",component:sa}),r.a.createElement(Jt.a,{exact:!0,path:"/reports/:id",component:Sa}),r.a.createElement(Jt.a,{exact:!0,path:"/resources",component:Ba}),r.a.createElement(Jt.a,{exact:!0,path:"/resources/:species",component:Ma}),r.a.createElement(Jt.a,{component:Da})))},Ua=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).checkIfMobile=function(){oe(window.innerWidth<768)},a}return Object(L.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.checkIfMobile(),window.addEventListener("resize",this.checkIfMobile),gt.getAllNeighborhoods().then(function(e){return function(e){N.dispatch({type:"UPDATE_ALL_NEIGHBORHOODS",value:e})}(e)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkIfMobile)}},{key:"render",value:function(){var e=this.props.isMobile;return r.a.createElement("div",{className:"App"},e?r.a.createElement(ye,null):r.a.createElement(F,null),r.a.createElement(za,null),e?r.a.createElement(Yt,null):null)}}]),t}(n.Component),_a=Object(R.a)(Object(f.b)(function(e){return{isMobile:e.isMobile}})(Ua));l.a.render(r.a.createElement(i.a,{basename:"urban-carnivore-spotter"},r.a.createElement(f.a,{store:N},r.a.createElement(s.Provider,{value:new g},r.a.createElement(_a,null)))),document.getElementById("root"))}},[[5634,1,2]]]);
//# sourceMappingURL=main.5c57d06d.chunk.js.map